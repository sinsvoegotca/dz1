(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),document.addEventListener("DOMContentLoaded",(function(){function e(e){return fetch(e).then((e=>e.json()))}function t(e){const t=document.createElement("li");return t.classList.add("film__item"),t.textContent=e,t}function n(e,n,s,d,c){const i=document.createElement("div");i.classList.add("film__container");const l=document.createElement("div");l.classList.add("film__block");const a=document.createElement("div");a.classList.add("film__header");const o=document.createElement("h2");o.classList.add("film__title"),o.textContent=e;const m=document.createElement("div");m.classList.add("film__number"),m.textContent=n,a.appendChild(o),a.appendChild(m);const r=document.createElement("div");r.classList.add("film__text-about"),r.textContent=s;const p=function(e){const n=document.createElement("div");n.classList.add("film__planets");const s=document.createElement("h2");s.classList.add("film__planet"),s.textContent="Planets";const d=document.createElement("ul");return d.classList.add("film__items"),e.forEach((e=>{const n=t(e);d.appendChild(n)})),n.appendChild(s),n.appendChild(d),n}(d),u=function(e){const n=document.createElement("div");n.classList.add("film__species");const s=document.createElement("h2");s.classList.add("film__species"),s.textContent="Species";const d=document.createElement("ul");return d.classList.add("film__items"),e.forEach((e=>{const n=t(e);d.appendChild(n)})),n.appendChild(s),n.appendChild(d),n}(c);return l.appendChild(a),l.appendChild(r),l.appendChild(p),l.appendChild(u),i.appendChild(l),i}e("https://swapi.dev/api/films").then((e=>{if(document.querySelector(".starwars__films")){const t=document.querySelector(".starwars__films");let n=1;e.results.forEach((e=>{const s=n++,d=document.createElement("div");d.classList.add("starwars__film");const c=document.createElement("a");c.classList.add("starwars__link"),c.href=`film-${s}.html`;const i=document.createElement("p");i.classList.add("starwars__film-number"),i.textContent=s;const l=document.createElement("div");l.classList.add("starwars__title"),l.textContent=e.title,c.appendChild(i),c.appendChild(l),d.appendChild(c),t.appendChild(d)}))}}));const s=document.querySelector(".film"),d=window.location.href,c=d.lastIndexOf("-"),i=d.slice(c+1,-5);console.log(i),s&&e(`https://swapi.dev/api/films/${i}`).then((e=>{console.log(e);const t=n(e.title,e.episode_id,e.opening_crawl,e.planets,e.species);s.appendChild(t)})).catch((e=>{console.error("Error fetching film data:",e)}))})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();